<!DOCTYPE html>
<html>
    <head>
        <title>Math Test</title>
    <style>
        .snapped
        {
            width:320px;
            left:0px;
            position:absolute;

        }
        .in
        {
            width:180px;
            left:10px;
            position:absolute;
        }
        .out
        {
            width:100px;
            left:210px;
            position:absolute;

        }

    </style>

    </head>
    <body>
        <h3>ScratchCalc Basic Test</h3>
        <div class="snapped">
            <textarea class="in" rows="100"></textarea>
            <div class="out"></div>
        </div>
        <script type='text/javascript' src='ext/jquery.js'></script>
        <script type='text/javascript' src='ext/bigdecimal.js'></script>
        <script type='text/javascript' src='parser/tablePlaceHolder.js'></script>
        <script type='text/javascript' src='parser/eqTreeBuilder.js'></script>
        <script type='text/javascript' src='parser/eqTokenizer.js'></script>
        <script type='text/javascript' src='parser/eqScanner.js'></script>
        <script type='text/javascript' src='parser/eqParser.js'></script>
        <script type='text/javascript'>
            var typingTimer;                //timer identifier
            var doneTypingInterval = 0;  //time in ms, 5 second for example
            EQParser.init();
            //on keyup, start the countdown
            $('.in').keyup(function(){
                typingTimer = setTimeout(doneTyping, doneTypingInterval);
            });

            //on keydown, clear the countdown 
            $('.in').keydown(function(){
                clearTimeout(typingTimer);
            });

            //user is "finished typing," do something
            function doneTyping () {
                var input = $('.in').val();
                var output = EQParser.parse(input);
                $('.out').html(output);
            }
        </script>

    </body>
</html>